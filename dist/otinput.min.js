!function(){"use strict";function a(a){var b=this;this._text=a.text||{},this._onFileChange=a.onFileChange||function(){},this._onFileError=a.onFileError||function(){},this._dragover=a.onDragover||function(){},this._dragleave=a.onDragleave||function(){},this.element=this._setupElement(a.element),$(this.element).find('input[type="file"]').change(function(){b._reactToFile(this)})}window.oTinput=a,a.prototype._setupElement=function(a){var b=this;if("undefined"==typeof a)throw"must specify container element";var c=this._text.button||"Choose audio (or video) file",d='<button class="btn-file-input" style="width: 100%;">'+c+"</button>",e=["position: absolute","top: 0","left: 0","opacity: 0","width: 100%"].join(";"),f='<input type="file" accept="audio/*, video/*" style="'+e+'">',g="position: relative; overflow: hidden;",h='<div class="file-input-wrapper" style="'+g+'">'+d+f+"</div>";$(a).html(h);var i=$(a).find(".file-input-wrapper")[0];return i.addEventListener("dragover",function(){b._dragover()},!1),i.addEventListener("dragleave",function(){b._dragleave()},!1),$(a)[0]},a.prototype._reactToFile=function(a){var b=a.files[0];if(this.isFormatSupported(b))this._onFileChange(b);else{var c=new Error("Filetype "+b.type+" not supported by this browser");this._onFileError(c,b)}},a.prototype.getSupportedFormats=function(){var b=["mp3","ogg","webm","wav"],c=["mp4","ogg","webm"],d=this.isFormatSupported||a.isFormatSupported,e=$.map(b,function(a,b){return d(a)?a:void 0}),f=$.map(c,function(a,b){return d(a)?a:void 0});return{audio:e,video:f}},a.prototype.isFormatSupported=function(a){var b;if("string"!=typeof a){var c=a.type.split("/")[0];return b=document.createElement(c),!(!b.canPlayType||!b.canPlayType(a.type).replace(/no/,""))}return b=document.createElement("audio"),!(!b.canPlayType||!b.canPlayType("audio/"+a+";").replace(/no/,""))},a.getSupportedFormats=a.prototype.getSupportedFormats,a.isFormatSupported=a.prototype.isFormatSupported}();